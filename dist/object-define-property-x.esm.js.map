{"version":3,"sources":["../src/object-define-property-x.js"],"names":[],"mappings":"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","file":"object-define-property-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport toObject from 'to-object-x';\nimport toPropertyKey from 'to-property-key-x';\nimport has from 'has-own-property-x';\nimport isFunction from 'is-function-x';\nimport assertIsObject from 'assert-is-object-x';\nimport toBoolean from 'to-boolean-x';\nimport methodize from 'simple-methodize-x';\n\nconst ObjectCtr = {}.constructor;\nconst nd = ObjectCtr.defineProperty;\nconst nativeDefProp = typeof nd === 'function' && nd;\nlet definePropertyFallback;\n\nconst toPropertyDescriptor = function toPropertyDescriptor(desc) {\n  const object = toObject(desc);\n  const descriptor = {};\n\n  if (has(object, 'enumerable')) {\n    descriptor.enumerable = toBoolean(object.enumerable);\n  }\n\n  if (has(object, 'configurable')) {\n    descriptor.configurable = toBoolean(object.configurable);\n  }\n\n  if (has(object, 'value')) {\n    descriptor.value = object.value;\n  }\n\n  if (has(object, 'writable')) {\n    descriptor.writable = toBoolean(object.writable);\n  }\n\n  if (has(object, 'get')) {\n    const getter = object.get;\n\n    if (typeof getter !== 'undefined' && isFunction(getter) === false) {\n      throw new TypeError('getter must be a function');\n    }\n\n    descriptor.get = getter;\n  }\n\n  if (has(object, 'set')) {\n    const setter = object.set;\n\n    if (typeof setter !== 'undefined' && isFunction(setter) === false) {\n      throw new TypeError('setter must be a function');\n    }\n\n    descriptor.set = setter;\n  }\n\n  if ((has(descriptor, 'get') || has(descriptor, 'set')) && (has(descriptor, 'value') || has(descriptor, 'writable'))) {\n    throw new TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n  }\n\n  return descriptor;\n};\n\n// ES5 15.2.3.6\n// http://es5.github.com/#x15.2.3.6\n\n// Patch for WebKit and IE8 standard mode\n// Designed by hax <hax.github.com>\n// related issue: https://github.com/es-shims/es5-shim/issues#issue/5\n// IE8 Reference:\n//     http://msdn.microsoft.com/en-us/library/dd282900.aspx\n//     http://msdn.microsoft.com/en-us/library/dd229916.aspx\n// WebKit Bugs:\n//     https://bugs.webkit.org/show_bug.cgi?id=36423\n\nconst prototypeOfObject = ObjectCtr.prototype;\n// If JS engine supports accessors creating shortcuts.\nconst supportsAccessors = has(prototypeOfObject, '__defineGetter__');\n/* eslint-disable-next-line no-underscore-dangle,no-restricted-properties */\nconst defineGetter = supportsAccessors && methodize(prototypeOfObject.__defineGetter__);\n/* eslint-disable-next-line no-underscore-dangle,no-restricted-properties */\nconst defineSetter = supportsAccessors && methodize(prototypeOfObject.__defineSetter__);\n/* eslint-disable-next-line no-underscore-dangle */\nconst lookupGetter = supportsAccessors && methodize(prototypeOfObject.__lookupGetter__);\n/* eslint-disable-next-line no-underscore-dangle */\nconst lookupSetter = supportsAccessors && methodize(prototypeOfObject.__lookupSetter__);\n\nexport const implementation = function defineProperty(object, property, descriptor) {\n  assertIsObject(object);\n  const propKey = toPropertyKey(property);\n  const propDesc = toPropertyDescriptor(descriptor);\n\n  // make a valiant attempt to use the real defineProperty for IE8's DOM elements.\n  if (definePropertyFallback) {\n    const result = attempt(function attemptee() {\n      return definePropertyFallback(ObjectCtr, object, propKey, propDesc);\n    });\n\n    if (result.threw === false) {\n      return result.value;\n    }\n    // try the shim if the real one doesn't work\n  }\n\n  // If it's a data property.\n  if (has(propDesc, 'value')) {\n    // fail silently if 'writable', 'enumerable', or 'configurable' are requested but not supported\n    if (supportsAccessors && (lookupGetter(object, propKey) || lookupSetter(object, propKey))) {\n      // As accessors are supported only on engines implementing\n      // `__proto__` we can safely override `__proto__` while defining\n      // a property to make sure that we don't hit an inherited accessor.\n      /* eslint-disable-next-line no-proto */\n      const prototype = object.__proto__;\n      /* eslint-disable-next-line no-proto */\n      object.__proto__ = prototypeOfObject;\n      // Deleting a property anyway since getter / setter may be defined on object itself.\n      delete object[propKey];\n      object[propKey] = propDesc.value;\n      // Setting original `__proto__` back now.\n      /* eslint-disable-next-line no-proto */\n      object.__proto__ = prototype;\n    } else {\n      object[propKey] = propDesc.value;\n    }\n  } else {\n    if (supportsAccessors === false && (propDesc.get || propDesc.set)) {\n      throw new TypeError('getters & setters can not be defined on this javascript engine');\n    }\n\n    // If we got that far then getters and setters can be defined !!\n    if (propDesc.get) {\n      defineGetter(object, propKey, propDesc.get);\n    }\n\n    if (propDesc.set) {\n      defineSetter(object, propKey, propDesc.set);\n    }\n  }\n\n  return object;\n};\n\n/**\n * This method defines a new property directly on an object, or modifies an\n * existing property on an object, and returns the object.\n *\n * @param {object} object - The object on which to define the property.\n * @param {string} property - The name of the property to be defined or modified.\n * @param {object} descriptor - The descriptor for the property being defined or modified.\n * @returns {object} The object that was passed to the function.\n * });.\n */\nlet $defineProperty;\n\n// check whether defineProperty works if it's given. Otherwise, shim partially.\nif (nativeDefProp) {\n  const testWorksWith = function testWorksWith(object) {\n    const testResult = attempt(nativeDefProp, object, 'sentinel', {});\n\n    return testResult.threw === false && testResult.value === object && 'sentinel' in object;\n  };\n\n  const doc = typeof document !== 'undefined' && document;\n\n  if (testWorksWith({}) && (toBoolean(doc) === false || testWorksWith(doc.createElement('div')))) {\n    $defineProperty = function defineProperty(object, property, descriptor) {\n      return nativeDefProp(assertIsObject(object), toPropertyKey(property), toPropertyDescriptor(descriptor));\n    };\n  } else {\n    definePropertyFallback = nativeDefProp;\n  }\n}\n\nif (toBoolean(nativeDefProp) === false || definePropertyFallback) {\n  $defineProperty = implementation;\n}\n\nconst defProp = $defineProperty;\n\nexport default defProp;\n"]}